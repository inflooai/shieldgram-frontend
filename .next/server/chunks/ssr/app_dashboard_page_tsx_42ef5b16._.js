module.exports=[20731,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(39761),e=a.i(4416),f=a.i(66384),g=a.i(70106);let h=(0,g.default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);var i=a.i(16201),j=a.i(3314);let k=(0,g.default)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]);var l=a.i(65341),m=a.i(70880),n=a.i(30617);let o=(0,g.default)("sliders-vertical",[["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M12 21v-9",key:"17s77i"}],["path",{d:"M12 8V3",key:"13r4qs"}],["path",{d:"M17 16h4",key:"h1uq16"}],["path",{d:"M19 12V3",key:"o1uvq1"}],["path",{d:"M19 21v-5",key:"qua636"}],["path",{d:"M3 14h4",key:"bcjad9"}],["path",{d:"M5 10V3",key:"cb8scm"}],["path",{d:"M5 21v-7",key:"1w1uti"}]]);var p=a.i(43108),q=a.i(33441);let r=(0,g.default)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),s=(0,g.default)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),t=(0,g.default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);var u=a.i(1027);let v=(0,g.default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),w=(0,g.default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),x=(0,g.default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var y=a.i(50429);let z=(0,g.default)("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);var A=a.i(96221),B=a.i(49447),C=a.i(3752),D=a.i(83408);let E=[],F={standard:{price:5,label:"Standard",features:["5k comments/mo","1 social account","Standard Protection"]},plus:{price:15,label:"Plus",features:["20k comments/mo","2 social accounts","Standard Protection"]},pro:{price:30,label:"Pro",features:["50k comments/mo","5 social accounts","Advanced Reasoning","Custom Policies"]},max:{price:75,label:"Max",features:["200k comments/mo","Unlimited accounts","Advanced Reasoning","Custom Policies"]}},G=({onLogout:a,isDarkMode:g,toggleTheme:G})=>{let[H,I]=(0,c.useState)(()=>{let a=new URLSearchParams(window.location.search).get("tab");return["overview","controls","plan","security"].includes(a)?a:"overview"}),[J,K]=(0,c.useState)(!1),[L,M]=(0,c.useState)(!1),[N,O]=(0,c.useState)(!1),[P,Q]=(0,c.useState)(null),R=(a,b="success")=>{Q({message:a,type:b}),setTimeout(()=>Q(null),3e3)},[S,T]=(0,c.useState)(E),[U,V]=(0,c.useState)(null),[W,X]=(0,c.useState)(!1),[Y,Z]=(0,c.useState)(!1),[$,_]=(0,c.useState)(!1),[aa,ab]=(0,c.useState)(null),[ac,ad]=(0,c.useState)(""),[ae,af]=(0,c.useState)(!1),[ag,ah]=(0,c.useState)(!1),[ai,aj]=(0,c.useState)(null),[ak,al]=(0,c.useState)(!1),[am,an]=(0,c.useState)("USD"),[ao,ap]=(0,c.useState)([]),[aq,ar]=(0,c.useState)({scanned:0,moderated:0,averageResponseTime:0}),[as,at]=(0,c.useState)([]),[au,av]=(0,c.useState)(10),[aw,ax]=(0,c.useState)({plan:"",policies:{profanity:!0,sexualContent:!0,hateSpeech:!0,selfHarm:!1,violence:!1,negativity:!1,harassment:!1,spam:!0},customInstructions:"",confidenceThreshold:80,selectedCustomPolicies:[],customPolicyDescriptions:{}}),[ay,az]=(0,c.useState)(null),aA=c.default.useMemo(()=>!!ay&&JSON.stringify(aw)!==JSON.stringify(ay),[aw,ay]),[aB,aC]=(0,c.useState)(!1),[aD,aE]=(0,c.useState)(null),[aF,aG]=(0,c.useState)(""),[aH,aI]=(0,c.useState)(""),[aJ,aK]=(0,c.useState)("spam"),[aL,aM]=(0,c.useState)(!1),[aN,aO]=(0,c.useState)(null);(0,c.useEffect)(()=>{let a=new URLSearchParams(window.location.search),b=!1;if(a.get("tab")!==H&&(a.set("tab",H),b=!0),U&&a.get("account")!==U.id&&(a.set("account",U.id),b=!0),b){let b=`${window.location.pathname}?${a.toString()}`;window.history.replaceState({},"",b)}},[H,U]);let aP=(0,c.useRef)(null);(0,c.useEffect)(()=>{let a=a=>{aP.current&&!aP.current.contains(a.target)&&X(!1)};return W&&document.addEventListener("mousedown",a),()=>{document.removeEventListener("mousedown",a)}},[W]);let aQ=async(b=!1,c)=>{K(!0);try{let{accounts:a,plan_type:d}=await (0,D.getDashboardInfo)();if(ax(a=>({...a,plan:d||""})),d||I("plan"),b)try{try{let a=await fetch("https://ipapi.co/json/");if(429===a.status)throw Error("429");let b=await a.json();an("IN"===b.country_code?"INR":"USD")}catch(a){try{let a=await fetch("http://ip-api.com/json/"),b=await a.json();an("IN"===b.countryCode?"INR":"USD")}catch(a){console.warn("Location detection failed, defaulting to USD"),an("USD")}}let a=await (0,D.getPlans)();ap(a)}catch(a){console.error("Failed to load dynamic pricing:",a)}if(a.length>0){let b=a.map(a=>({id:a.account_id,name:a.account_name,handle:a.account_name.toLowerCase().replace(/\s+/g,"_"),profilePictureUrl:a.profile_picture_url,isDeauthorized:a.is_deauthorized||!1}));T(b);let e=new URLSearchParams(window.location.search).get("account"),f=c||e||U?.id,g=a.find(a=>a.account_id===f)||a[0];V({id:g.account_id,name:g.account_name,handle:g.account_name.toLowerCase().replace(/\s+/g,"_"),profilePictureUrl:g.profile_picture_url,isDeauthorized:g.is_deauthorized||!1}),aj(g);let h=g.policies.split(",").map(a=>a.trim()),i={plan:d||"standard",policies:{profanity:h.includes("profanity"),sexualContent:h.includes("sexualContent"),hateSpeech:h.includes("hateSpeech"),selfHarm:h.includes("selfHarm"),violence:h.includes("violence"),negativity:h.includes("negativity"),harassment:h.includes("harassment"),spam:h.includes("spam")},customInstructions:g.custom_policy||"",confidenceThreshold:g.confidence_threshold||80,selectedCustomPolicies:(()=>{try{let a=JSON.parse(g.custom_policy||"[]");return Array.isArray(a)?a:[]}catch{return[]}})(),customPolicyDescriptions:(g.custom_policy_definitions||[]).reduce((a,b)=>(a[b.policy_name]=b.description,a),{})};ax(i),az(i),await aR(g.account_id,au),ar({scanned:g?.stats?.comments_scanned??0,moderated:g?.stats?.comments_moderated??0,averageResponseTime:g?.stats?.comments_moderated>0?(g?.stats?.processing_time??0)/g.stats.comments_moderated:0})}else T([]),V(null),ar({scanned:0,moderated:0,averageResponseTime:0})}catch(b){console.error("Failed to load dashboard data",b),401===b.status||403===b.status?(R("Session expired. Logging out...","error"),setTimeout(()=>a?.(),2e3)):R("Failed to load dashboard data","error")}finally{K(!1)}},aR=async(a,b)=>{M(!0);try{let c=(await (0,D.getInterventions)(a,b)).map(a=>({id:a.comment_id,author:a.username||"Anonymous",text:a.text,riskLevel:a.riskLevel||"SAFE",timestamp:aS(a.moderated_at),actionTaken:a.suggested_action||"NONE",commenter_id:a.commenter_id}));at(c)}catch(a){console.error("Failed to load interventions",a),R("Failed to load recent interventions","error")}finally{M(!1)}},aS=a=>{if(!a)return"Unknown";let b=Math.floor(Date.now()/1e3)-Number(a);return b<60?"Just now":b<3600?`${Math.floor(b/60)}m ago`:b<86400?`${Math.floor(b/3600)}h ago`:`${Math.floor(b/86400)}d ago`};(0,c.useEffect)(()=>{aQ(!0),aT();let a=new URLSearchParams(window.location.search).get("code");a&&aU(a)},[]);let aT=async()=>{try{let a=await (0,D.getMFAStatus)();Z(a)}catch(a){console.error("Failed to check MFA status",a)}},aU=async b=>{K(!0);try{await (0,D.addInstagramAccount)(b),window.history.replaceState({},document.title,window.location.pathname),await aQ(),R("Account linked successfully!")}catch(b){console.error("Failed to link Instagram account",b),window.history.replaceState({},document.title,window.location.pathname),403===b.status?(R("Subscription required to link account","error"),I("plan")):401===b.status?(R("Session expired. Logging out...","error"),setTimeout(()=>a?.(),2e3)):R(b.message||"Failed to link Instagram account","error")}finally{K(!1)}},aV=async()=>{af(!0);try{let a=await (0,D.initiateMFASetup)();ab(a),_(!0)}catch(a){R(a.message||"Failed to initiate MFA setup","error")}finally{af(!1)}},aW=async()=>{if(ac){ah(!0);try{await (0,D.finalizeMFASetup)(ac),Z(!0),_(!1),ab(null),ad(""),R("MFA enabled successfully!")}catch(a){R(a.message||"Invalid code","error")}finally{ah(!1)}}},aX=async()=>{try{await (0,D.disableMFA)(),Z(!1),R("MFA disabled")}catch(a){R(a.message||"Failed to disable MFA","error")}},aY=async()=>{if(U&&ai){O(!0);try{let a=Object.entries(aw.policies).filter(([a,b])=>b).map(([a,b])=>a).join(", ");await (0,D.saveDashboardControls)(U.id,ai.owner_user_id,a,aw.plan,JSON.stringify(aw.selectedCustomPolicies),aw.confidenceThreshold),az(aw),R("Settings saved successfully!")}catch(b){console.error("Failed to save settings",b),401===b.status||403===b.status?(R("Session expired. Logging out...","error"),setTimeout(()=>a?.(),2e3)):R("Failed to save settings: "+(b.message||"Unknown error"),"error")}finally{O(!1)}}},aZ=async()=>{if(!U||!aF||!aH)return;let a=`Treat comments with ${aH} as ${aJ}`;if(a.length>100)return void R("Description is too long (max 100 characters combined)","error");try{O(!0),await (0,D.saveCustomPolicy)(U.id,aF,a),ax(b=>({...b,customPolicyDescriptions:{...b.customPolicyDescriptions,[aF]:a}})),aC(!1),aG(""),aI(""),aK("spam"),aE(null),R("Custom policy saved successfully")}catch(a){403===a.status&&"pro"===aw.plan?R("Limit reached. Upgrade to Max for up to 20 custom policies.","error"):R(a.message||"Failed to save custom policy","error")}finally{O(!1)}},a$=async a=>{if(U)try{O(!0),await (0,D.deleteCustomPolicy)(U.id,a),ax(b=>{let c={...b.customPolicyDescriptions};return delete c[a],{...b,selectedCustomPolicies:b.selectedCustomPolicies.filter(b=>b!==a),customPolicyDescriptions:c}}),R("Custom policy deleted")}catch(a){R(a.message||"Failed to delete custom policy","error")}finally{O(!1)}},a_=a=>{ax(b=>({...b,selectedCustomPolicies:b.selectedCustomPolicies.includes(a)?b.selectedCustomPolicies.filter(b=>b!==a):[...b.selectedCustomPolicies,a]}))},a0=async(a,b)=>{if(!U)return;let c=as.find(b=>b.id===a);if(c)try{await (0,D.processIntervention)(U.id,a,c.commenter_id||null,b,"COMMENT"),R(`Action "${b}" queued. It will be synced in a few minutes.`)}catch(a){console.error("Failed to process intervention",a),R("Failed to process intervention","error")}},a1=async()=>{if(aN){O(!0);try{await (0,D.removeInstagramAccount)(aN.id),R("Account removed successfully"),aM(!1),aO(null),aQ(!0)}catch(a){R(a.message||"Failed to remove account","error")}finally{O(!1)}}},a2=async a=>{if(a===aw.plan)return;if(al(!0),!await new Promise(a=>{let b=document.createElement("script");b.src="https://checkout.razorpay.com/v1/checkout.js",b.onload=()=>{a(!0)},b.onerror=()=>{a(!1)},document.body.appendChild(b)})){R("Razorpay SDK failed to load. Please check your internet connection.","error"),al(!1);return}let b=ao.find(b=>b.name.toLowerCase().includes(F[a].label.toLowerCase())&&b.currency===am),c=null;if(b){if(!(c=await (0,D.createSubscription)(b.id))){R("Failed to initialize subscription. Please try again.","error"),al(!1);return}}else console.warn("No matching Razorpay plan found for",a,am);let d={key:"rzp_test_S2zggyV3DlzZfa",name:"ShieldGram",description:`Upgrade to ${F[a].label} Plan`,image:"https://cdn-icons-png.flaticon.com/512/3233/3233515.png",handler:function(b){console.log("Payment Success: ",b),ax(b=>({...b,plan:a})),al(!1),R(`Subscription updated to ${F[a].label}!`)},prefill:{name:U?.name||"ShieldGram User",email:"user@example.com",contact:""},theme:{color:"#6bb8e6"},modal:{ondismiss:function(){al(!1)}}};c?d.subscription_id=c:(d.amount=100*F[a].price,d.currency="USD"),new window.Razorpay(d).open()},a3="pro"===aw.plan||"max"===aw.plan;return(0,b.jsxs)("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950 transition-colors duration-300 flex flex-col",children:[(0,b.jsx)("header",{className:"bg-white dark:bg-slate-900 border-b border-slate-200 dark:border-slate-800 sticky top-0 z-40",children:(0,b.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("img",{src:"/logo.svg",alt:"ShieldGram",className:"h-[44px] w-auto"}),(0,b.jsxs)("span",{className:"font-bold text-lg text-slate-900 dark:text-white tracking-tight hidden sm:inline",children:["ShieldGram ",(0,b.jsx)("span",{className:"text-slate-400 font-normal ml-1",children:"Dashboard"})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsxs)("div",{className:"relative",ref:aP,children:[(0,b.jsxs)("button",{onClick:()=>X(!W),className:`flex items-center gap-3 px-2 py-1.5 rounded-lg transition-all border border-transparent focus:outline-none ${!U?"bg-brand-50 dark:bg-brand-900/20 text-brand-600 dark:text-brand-400":"hover:bg-slate-100 dark:hover:bg-slate-800 hover:border-slate-200 dark:hover:border-slate-700"}`,children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded-full bg-brand-600 text-white flex items-center justify-center font-bold text-xs shadow-sm overflow-hidden shrink-0",children:U?.profilePictureUrl?(0,b.jsx)("img",{src:U.profilePictureUrl,alt:"",className:"w-full h-full object-cover"}):U?U.name.substring(0,2).toUpperCase():(0,b.jsx)(j.Shield,{className:"w-4 h-4"})}),(0,b.jsxs)("div",{className:"hidden md:block text-left mr-1",children:[(0,b.jsx)("p",{className:`text-sm font-semibold leading-none ${!U?"text-brand-700 dark:text-brand-300":"text-slate-700 dark:text-slate-200"}`,children:U?.name||(J?"Loading...":"Select Account")}),(0,b.jsx)("p",{className:"text-[10px] text-slate-500 dark:text-slate-400 font-medium leading-none mt-1.5",children:U?.handle||(J?"":"None active")})]}),(0,b.jsx)(v,{className:`w-4 h-4 text-slate-400 transition-transform ${W?"rotate-180":""}`})]}),W&&(0,b.jsxs)("div",{className:"absolute right-0 top-full mt-2 w-64 bg-white dark:bg-slate-900 rounded-xl shadow-xl border border-slate-200 dark:border-slate-800 overflow-hidden z-50 animate-fade-in ring-1 ring-black/5",children:[(0,b.jsxs)("div",{className:"p-2 space-y-0.5",children:[(0,b.jsx)("div",{className:"px-3 py-2 text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:"Switch Account"}),S.map(a=>(0,b.jsxs)("button",{onClick:()=>{U&&a.id===U.id?X(!1):(V(a),X(!1),aQ(!1,a.id))},className:`w-full flex items-center justify-between px-3 py-2.5 rounded-lg text-sm transition-all ${U.id===a.id?"bg-brand-50 dark:bg-brand-900/20 text-brand-700 dark:text-brand-300 font-medium":"hover:bg-slate-50 dark:hover:bg-slate-800 text-slate-700 dark:text-slate-300"}`,children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold text-xs border overflow-hidden ${U.id===a.id?"bg-brand-200 dark:bg-brand-800 border-brand-300 dark:border-brand-700":"bg-slate-100 dark:bg-slate-800 border-slate-200 dark:border-slate-700 text-slate-500"}`,children:a.profilePictureUrl?(0,b.jsx)("img",{src:a.profilePictureUrl,alt:"",className:"w-full h-full object-cover"}):a.name.substring(0,2).toUpperCase()}),(0,b.jsxs)("div",{className:"text-left",children:[(0,b.jsx)("p",{children:a.name}),(0,b.jsx)("p",{className:"text-xs opacity-60 font-normal",children:a.handle})]})]}),U.id===a.id&&(0,b.jsx)(q.Check,{className:"w-4 h-4 text-brand-600"})]},a.id))]}),(0,b.jsx)("div",{className:"border-t border-slate-100 dark:border-slate-800 p-2",children:(0,b.jsxs)("button",{onClick:()=>{window.location.href="https://www.instagram.com/oauth/authorize?force_reauth=true&client_id=2024506878093004&redirect_uri=https://dashboard.shieldgram.com&response_type=code&scope=instagram_business_basic%2Cinstagram_business_manage_messages%2Cinstagram_business_manage_comments%2Cinstagram_business_content_publish%2Cinstagram_business_manage_insights",X(!1)},className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors font-medium group",children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded-full bg-slate-50 dark:bg-slate-800 flex items-center justify-center border border-dashed border-slate-300 dark:border-slate-600 group-hover:border-slate-400 dark:group-hover:border-slate-500 transition-colors",children:(0,b.jsx)(w,{className:"w-4 h-4"})}),(0,b.jsx)("span",{children:"Add New Account"})]})})]})]}),(0,b.jsx)("div",{className:"h-8 w-px bg-slate-200 dark:bg-slate-800 mx-2"}),G&&(0,b.jsx)("button",{onClick:G,className:"p-2 rounded-full text-slate-500 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",title:"Toggle Theme",children:g?(0,b.jsx)(l.Sun,{className:"w-5 h-5"}):(0,b.jsx)(m.Moon,{className:"w-5 h-5"})}),a&&(0,b.jsxs)("button",{onClick:a,className:"flex items-center gap-2 text-sm font-medium text-slate-600 dark:text-slate-300 hover:text-red-600 dark:hover:text-red-400 transition-colors",children:[(0,b.jsx)(k,{className:"w-4 h-4"}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"Sign Out"})]})]})]})}),(0,b.jsx)("div",{className:"bg-white dark:bg-slate-900 border-b border-slate-200 dark:border-slate-800",children:(0,b.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,b.jsxs)("div",{className:"flex space-x-8",children:[(0,b.jsxs)("button",{onClick:()=>I("overview"),disabled:!aw.plan,className:`py-4 px-1 border-b-2 font-medium text-sm flex items-center gap-2 transition-colors ${"overview"===H?"border-brand-600 text-brand-600 dark:border-brand-400 dark:text-brand-400":"border-transparent text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-300"} ${!aw.plan?"opacity-50 cursor-not-allowed":""}`,children:[(0,b.jsx)(n.LayoutDashboard,{className:"w-4 h-4"})," Overview ",!aw.plan&&(0,b.jsx)(p.Lock,{className:"w-3 h-3"})]}),(0,b.jsxs)("button",{onClick:()=>I("controls"),disabled:!aw.plan,className:`py-4 px-1 border-b-2 font-medium text-sm flex items-center gap-2 transition-colors ${"controls"===H?"border-brand-600 text-brand-600 dark:border-brand-400 dark:text-brand-400":"border-transparent text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-300"} ${!aw.plan?"opacity-50 cursor-not-allowed":""}`,children:[(0,b.jsx)(o,{className:"w-4 h-4"})," Controls ",!aw.plan&&(0,b.jsx)(p.Lock,{className:"w-3 h-3"})]}),(0,b.jsxs)("button",{onClick:()=>I("plan"),className:`py-4 px-1 border-b-2 font-medium text-sm flex items-center gap-2 transition-colors ${"plan"===H?"border-brand-600 text-brand-600 dark:border-brand-400 dark:text-brand-400":"border-transparent text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-300"}`,children:[(0,b.jsx)(s,{className:"w-4 h-4"})," Plan & Billing"]}),(0,b.jsxs)("button",{onClick:()=>I("security"),disabled:!aw.plan,className:`py-4 px-1 border-b-2 font-medium text-sm flex items-center gap-2 transition-colors ${"security"===H?"border-brand-600 text-brand-600 dark:border-brand-400 dark:text-brand-400":"border-transparent text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-300"} ${!aw.plan?"opacity-50 cursor-not-allowed":""}`,children:[(0,b.jsx)(p.Lock,{className:"w-4 h-4"})," Security ",!aw.plan&&(0,b.jsx)(p.Lock,{className:"w-3 h-3"})]})]})})}),(0,b.jsx)("main",{className:"flex-grow py-8",children:(0,b.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[P&&(0,b.jsxs)("div",{className:`fixed top-24 right-4 sm:right-8 z-50 flex items-center gap-2 text-sm font-medium px-4 py-3 rounded-lg shadow-xl border animate-slide-in max-w-[calc(100vw-2rem)] sm:max-w-md ${"success"===P.type?"text-green-700 dark:text-green-300 bg-green-50 dark:bg-green-900/90 border-green-200 dark:border-green-800":"text-red-700 dark:text-red-300 bg-red-50 dark:bg-red-900/90 border-red-200 dark:border-red-800"}`,children:["success"===P.type?(0,b.jsx)(i.CheckCircle,{className:"w-5 h-5 shrink-0"}):(0,b.jsx)(x,{className:"w-5 h-5 shrink-0"}),(0,b.jsx)("span",{className:"truncate",children:P.message})]}),J?(0,b.jsxs)("div",{className:"flex flex-col justify-center items-center h-96 gap-4",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("div",{className:"w-16 h-16 border-4 border-brand-100 dark:border-brand-900 rounded-full border-t-brand-600 animate-spin"}),(0,b.jsx)(j.Shield,{className:"w-6 h-6 text-brand-600 absolute inset-0 m-auto"})]}),(0,b.jsx)("p",{className:"text-slate-500 font-medium animate-pulse",children:"Syncing your protection..."})]}):0===S.length&&"plan"!==H?(0,b.jsxs)("div",{className:"max-w-4xl mx-auto text-center py-20 px-6 animate-fade-in",children:[(0,b.jsx)("div",{className:"w-24 h-24 bg-brand-50 dark:bg-brand-900/20 rounded-3xl flex items-center justify-center mx-auto mb-8 rotate-3 shadow-inner text-brand-600",children:(0,b.jsx)(e.ShieldCheck,{className:"w-12 h-12"})}),(0,b.jsx)("h2",{className:"text-3xl font-extrabold text-slate-900 dark:text-white mb-4 tracking-tight",children:"Ready to Secure Your Growth?"}),(0,b.jsx)("p",{className:"text-lg text-slate-600 dark:text-slate-400 mb-10 max-w-xl mx-auto leading-relaxed",children:"Link your Instagram account to start automated AI moderation. ShieldGram protects your brand from spam and toxicity 24/7."}),aw.plan?(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[(0,b.jsxs)("button",{onClick:()=>{window.location.href="https://www.instagram.com/oauth/authorize?force_reauth=true&client_id=2024506878093004&redirect_uri=https://dashboard.shieldgram.com&response_type=code&scope=instagram_business_basic%2Cinstagram_business_manage_messages%2Cinstagram_business_manage_comments%2Cinstagram_business_content_publish%2Cinstagram_business_manage_insights"},className:"w-full sm:w-auto px-8 py-4 bg-brand-600 hover:bg-brand-700 text-white rounded-xl font-bold shadow-xl shadow-brand-500/20 transition-all flex items-center justify-center gap-2 group",children:[(0,b.jsx)(w,{className:"w-5 h-5 group-hover:rotate-90 transition-transform"})," Connect Instagram"]}),(0,b.jsx)("button",{onClick:()=>I("plan"),className:"w-full sm:w-auto px-8 py-4 bg-white dark:bg-slate-900 text-slate-700 dark:text-slate-300 border border-slate-200 dark:border-slate-800 rounded-xl font-bold hover:bg-slate-50 dark:hover:bg-slate-800 transition-all",children:"Manage Plan"})]}):(0,b.jsxs)("div",{className:"flex flex-col items-center gap-6",children:[(0,b.jsx)("p",{className:"text-sm font-bold text-amber-600 dark:text-amber-400 bg-amber-50 dark:bg-amber-900/20 px-4 py-2 rounded-full border border-amber-100 dark:border-amber-900/30",children:"Choose a Plan First"}),(0,b.jsxs)("button",{onClick:()=>I("plan"),className:"w-full sm:w-auto px-10 py-4 bg-brand-600 hover:bg-brand-700 text-white rounded-xl font-bold shadow-xl shadow-brand-500/20 transition-all flex items-center justify-center gap-2 group",children:["View Subscription Plans ",(0,b.jsx)(r,{className:"w-4 h-4 group-hover:rotate-180 transition-transform duration-500"})]})]}),(0,b.jsxs)("div",{className:"mt-16 grid grid-cols-1 sm:grid-cols-3 gap-8 opacity-60",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 justify-center",children:[(0,b.jsx)(u.Zap,{className:"w-5 h-5 text-brand-500"})," ",(0,b.jsx)("span",{className:"text-sm font-medium",children:"Real-time AI"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3 justify-center",children:[(0,b.jsx)(p.Lock,{className:"w-5 h-5 text-purple-500"})," ",(0,b.jsx)("span",{className:"text-sm font-medium",children:"Spam-free feed"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3 justify-center",children:[(0,b.jsx)(f.ShieldAlert,{className:"w-5 h-5 text-red-500"})," ",(0,b.jsx)("span",{className:"text-sm font-medium",children:"Policy Enforced"})]})]})]}):(0,b.jsxs)(b.Fragment,{children:["overview"===H&&(0,b.jsxs)("div",{className:"animate-fade-in relative",children:[U?.isDeauthorized&&(0,b.jsxs)("div",{className:"absolute inset-0 z-10 flex items-center justify-center",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-white/80 dark:bg-slate-950/80 backdrop-blur-sm rounded-xl"}),(0,b.jsxs)("div",{className:"relative bg-white dark:bg-slate-900 border border-red-200 dark:border-red-800 rounded-2xl p-8 max-w-md text-center shadow-xl",children:[(0,b.jsx)("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,b.jsx)(f.ShieldAlert,{className:"w-8 h-8 text-red-500"})}),(0,b.jsx)("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:"Account Disconnected"}),(0,b.jsx)("p",{className:"text-slate-600 dark:text-slate-400 mb-6",children:"You have de-authorized ShieldGram from your Instagram account. Please reconnect to resume protection."}),(0,b.jsx)("button",{onClick:()=>{let a=`${window.location.origin}/dashboard`,b=`https://www.instagram.com/oauth/authorize?enable_fb_login=0&force_authentication=1&client_id=2024506878093004&redirect_uri=${encodeURIComponent(a)}&response_type=code&scope=instagram_business_basic,instagram_business_manage_comments,instagram_business_manage_messages`;window.location.href=b},className:"px-6 py-3 rounded-xl font-semibold bg-brand-600 hover:bg-brand-700 text-white transition-all",children:"Reconnect Instagram"})]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Overview"}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("button",{onClick:()=>aQ(),disabled:J,className:"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 text-slate-600 dark:text-slate-400 hover:text-brand-600 dark:hover:text-brand-400 hover:border-brand-200 dark:hover:border-brand-800 transition-all shadow-sm group",title:"Refresh Dashboard",children:(0,b.jsx)(r,{className:`w-4 h-4 group-hover:rotate-180 transition-transform duration-500 ${J?"animate-spin":""}`})}),(0,b.jsx)("span",{className:"text-xs font-mono text-slate-400 flex items-center gap-2",children:(0,b.jsxs)("span",{className:`px-2 py-0.5 rounded-full text-[10px] uppercase font-bold border ${"max"===aw.plan?"bg-purple-100 text-purple-700 border-purple-200":"pro"===aw.plan?"bg-brand-100 text-brand-700 border-brand-200":"bg-slate-100 text-slate-600 border-slate-200"}`,children:[aw.plan," Plan"]})})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12",children:[(0,b.jsx)("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-800 transition-colors",children:(0,b.jsxs)("div",{className:"flex justify-between items-start",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Comments Scanned"}),(0,b.jsx)("h3",{className:"text-3xl font-bold text-slate-900 dark:text-white mt-2",children:aq.scanned.toLocaleString()}),(0,b.jsx)("p",{className:"text-xs text-green-600 dark:text-green-400 mt-2 flex items-center gap-1",children:(0,b.jsx)("span",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Total Scanned"})})]}),(0,b.jsx)("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:(0,b.jsx)(d.BarChart3,{className:"w-6 h-6 text-brand-600 dark:text-brand-400"})})]})}),(0,b.jsx)("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-800 transition-colors",children:(0,b.jsxs)("div",{className:"flex justify-between items-start",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Threats Blocked"}),(0,b.jsx)("h3",{className:"text-3xl font-bold text-slate-900 dark:text-white mt-2",children:aq.moderated.toLocaleString()}),(0,b.jsx)("p",{className:"text-xs text-green-600 dark:text-green-400 mt-2 flex items-center gap-1",children:(0,b.jsx)("span",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Total Moderated"})})]}),(0,b.jsx)("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 rounded-lg",children:(0,b.jsx)(f.ShieldAlert,{className:"w-6 h-6 text-red-600 dark:text-red-400"})})]})}),(0,b.jsx)("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-800 transition-colors",children:(0,b.jsxs)("div",{className:"flex justify-between items-start",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Avg. Response Time"}),(0,b.jsx)("h3",{className:"text-3xl font-bold text-slate-900 dark:text-white mt-2",children:0===aq.averageResponseTime?"-":aq.averageResponseTime<1?"< 1s":`${aq.averageResponseTime.toFixed(1)}s`}),(0,b.jsxs)("p",{className:"text-xs text-brand-600 dark:text-brand-400 mt-2 flex items-center gap-1",children:[(0,b.jsx)(u.Zap,{className:"w-3 h-3"})," ",(0,b.jsx)("span",{className:"font-bold",children:"Fast Protection"})]})]}),(0,b.jsx)("div",{className:"p-3 bg-brand-50 dark:bg-brand-900/20 rounded-lg",children:(0,b.jsx)(u.Zap,{className:"w-6 h-6 text-brand-600 dark:text-brand-400"})})]})})]}),(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-4",children:(0,b.jsx)("h2",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Recent Automated Interventions"})}),0===as.length?(0,b.jsx)("div",{className:"text-center py-12 bg-white dark:bg-slate-900 rounded-lg border border-slate-200 dark:border-slate-800 border-dashed",children:(0,b.jsx)("p",{className:"text-slate-500",children:"No activity logged yet."})}):(0,b.jsx)("div",{className:"grid gap-4",children:as.map(a=>(0,b.jsxs)("div",{className:"bg-white dark:bg-slate-900 p-4 rounded-lg shadow-sm border border-slate-200 dark:border-slate-800 flex flex-col sm:flex-row sm:items-center justify-between gap-4 transition-colors",children:[(0,b.jsx)("div",{className:"flex items-start gap-4",children:(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"font-semibold text-slate-900 dark:text-slate-100",children:a.author}),(0,b.jsx)("span",{className:"text-xs text-slate-400 dark:text-slate-500",children:a.timestamp})]}),(0,b.jsx)("p",{className:"text-slate-600 dark:text-slate-300 mt-1 text-sm bg-slate-50 dark:bg-slate-800 p-2 rounded border border-slate-100 dark:border-slate-700",children:a.text}),(0,b.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[a.riskLevel!==C.CommentRiskLevel.SAFE&&(0,b.jsx)("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded-full border ${a.riskLevel===C.CommentRiskLevel.SPAM?"bg-yellow-50 text-yellow-700 border-yellow-200 dark:bg-yellow-900/20 dark:text-yellow-400 dark:border-yellow-800":a.riskLevel===C.CommentRiskLevel.TOXIC?"bg-red-50 text-red-700 border-red-200 dark:bg-red-900/20 dark:text-red-400 dark:border-red-800":"bg-orange-50 text-orange-700 border-orange-200 dark:bg-orange-900/20 dark:text-orange-400 dark:border-orange-800"}`,children:a.riskLevel}),(0,b.jsxs)("span",{className:`text-[10px] uppercase font-medium ${"APPROVED"===a.actionTaken?"text-green-600 dark:text-green-400":"text-slate-400 dark:text-slate-500"}`,children:["Action: ",a.actionTaken]})]})]})}),(0,b.jsxs)("div",{className:"flex items-center gap-2 self-end sm:self-center",children:[(0,b.jsx)("button",{onClick:()=>a0(a.id,"SAFE"),disabled:"DELETE"===a.actionTaken,className:`p-2 rounded-lg transition-colors ${"DELETE"===a.actionTaken?"text-slate-200 dark:text-slate-800 cursor-not-allowed":"text-slate-400 dark:text-slate-500 hover:text-green-600 dark:hover:text-green-400 hover:bg-green-50 dark:hover:bg-green-900/20"}`,title:"DELETE"===a.actionTaken?"Cannot restore deleted comment":"Mark as Safe (False Positive)",children:(0,b.jsx)(i.CheckCircle,{className:"w-5 h-5"})}),(0,b.jsx)("button",{onClick:()=>a0(a.id,"DELETE"),disabled:"DELETE"===a.actionTaken,className:`p-2 rounded-lg transition-colors ${"DELETE"===a.actionTaken?"text-slate-200 dark:text-slate-800 cursor-not-allowed":"text-slate-400 dark:text-slate-500 hover:text-red-600 dark:hover:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20"}`,title:"DELETE"===a.actionTaken?"Permanently Deleted":"Delete Comment",children:(0,b.jsx)(h,{className:"w-5 h-5"})})]})]},a.id))}),(0,b.jsx)("button",{onClick:()=>{if(!U)return;let a=au+10;av(a),aR(U.id,a)},disabled:L,className:"w-full py-3 text-sm text-slate-500 dark:text-slate-400 hover:text-brand-600 dark:hover:text-brand-400 font-medium border border-dashed border-slate-300 dark:border-slate-700 rounded-lg hover:border-brand-300 dark:hover:border-brand-600 hover:bg-brand-50 dark:hover:bg-brand-900/20 transition-all mt-4 flex items-center justify-center gap-2",children:L?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"w-4 h-4 border-2 border-slate-300 border-t-brand-600 animate-spin rounded-full"}),"Loading..."]}):"Load More History"})]})]}),"controls"===H&&(0,b.jsxs)("div",{className:"animate-fade-in max-w-3xl mx-auto relative",children:[U?.isDeauthorized&&(0,b.jsxs)("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl p-6 mb-8 text-center",children:[(0,b.jsxs)("div",{className:"flex items-center justify-center gap-3 mb-3",children:[(0,b.jsx)(f.ShieldAlert,{className:"w-6 h-6 text-red-500"}),(0,b.jsx)("h3",{className:"font-bold text-red-600 dark:text-red-400",children:"Account Disconnected"})]}),(0,b.jsx)("p",{className:"text-sm text-red-600/80 dark:text-red-400/80 mb-4",children:"Controls are disabled because you de-authorized ShieldGram. Reconnect your Instagram account or remove it below."}),(0,b.jsx)("button",{onClick:()=>{let a=`${window.location.origin}/dashboard`,b=`https://www.instagram.com/oauth/authorize?enable_fb_login=0&force_authentication=1&client_id=2024506878093004&redirect_uri=${encodeURIComponent(a)}&response_type=code&scope=instagram_business_basic,instagram_business_manage_comments,instagram_business_manage_messages`;window.location.href=b},className:"px-5 py-2 rounded-lg font-semibold bg-red-600 hover:bg-red-700 text-white text-sm transition-all",children:"Reconnect Instagram"})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Moderation Policy"}),P&&"success"===P.type&&(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-green-600 dark:text-green-400 bg-green-50 dark:bg-green-900/20 px-3 py-1 rounded-full animate-fade-in",children:[(0,b.jsx)(q.Check,{className:"w-4 h-4"})," ",P.message]})]}),!a3&&(0,b.jsxs)("div",{className:"bg-brand-50 dark:bg-brand-900/10 border border-brand-100 dark:border-brand-900 p-4 rounded-xl mb-8 flex items-start gap-3",children:[(0,b.jsx)(u.Zap,{className:"w-5 h-5 text-brand-600 dark:text-brand-400 mt-0.5 fill-current"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-semibold text-brand-900 dark:text-brand-100",children:"Unlock Advanced Controls"}),(0,b.jsxs)("p",{className:"text-sm text-brand-700 dark:text-brand-300 mt-1",children:["You are currently on the ",(0,b.jsx)("span",{className:"font-bold uppercase",children:aw.plan})," plan. Upgrade to Pro or Max to define custom AI instructions and specific policy nuances."]})]}),(0,b.jsx)("button",{onClick:()=>I("plan"),className:"ml-auto text-xs bg-brand-600 text-white px-3 py-2 rounded-lg font-medium hover:bg-brand-700",children:"Upgrade"})]}),(0,b.jsxs)("div",{className:U?.isDeauthorized?"opacity-50 pointer-events-none select-none":"",children:[(0,b.jsxs)("div",{className:"bg-white dark:bg-slate-900 rounded-xl shadow-sm border border-slate-200 dark:border-slate-800 py-10 px-6",children:[(0,b.jsxs)("h3",{className:"font-semibold text-lg mb-6 text-slate-900 dark:text-white flex items-center gap-2",children:[(0,b.jsx)(j.Shield,{className:"w-5 h-5 text-brand-500"})," Standard Protection"]}),(0,b.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-5",children:Object.entries(aw.policies).map(([a,c])=>{let d={profanity:"Profanity",sexualContent:"Sexual Content",hateSpeech:"Hate Speech",selfHarm:"Self-harm",violence:"Violence",negativity:"Negativity",harassment:"Harassment",spam:"Spam"}[a]||a;return(0,b.jsxs)("label",{className:`
                                                group relative flex items-center p-3 rounded-xl border cursor-pointer transition-all duration-200 select-none
                                                ${c?"bg-brand-50/50 dark:bg-brand-900/10 border-brand-200 dark:border-brand-800 ring-1 ring-brand-200 dark:ring-brand-800":"bg-white dark:bg-slate-950/50 border-slate-200 dark:border-slate-800 hover:border-slate-300 dark:hover:border-slate-700"}
                                            `,children:[(0,b.jsx)("input",{type:"checkbox",checked:c,onChange:b=>ax({...aw,policies:{...aw.policies,[a]:b.target.checked}}),className:"sr-only"}),(0,b.jsx)("div",{className:`
                                                w-5 h-5 rounded-md flex items-center justify-center transition-all duration-200 flex-shrink-0
                                                ${c?"bg-brand-600 border border-brand-600 shadow-sm scale-100":"bg-slate-100 dark:bg-slate-800 border border-slate-300 dark:border-slate-600 scale-95 group-hover:scale-100"}
                                            `,children:(0,b.jsx)(q.Check,{className:`w-3 h-3 text-white transition-all duration-200 ${c?"opacity-100 rotate-0":"opacity-0 -rotate-90"}`,strokeWidth:3})}),(0,b.jsx)("span",{className:`ml-2 text-xs font-bold truncate ${c?"text-brand-900 dark:text-brand-100":"text-slate-700 dark:text-slate-300"}`,children:d})]},a)})})]}),(0,b.jsxs)("div",{className:`bg-white dark:bg-slate-900 rounded-xl shadow-sm border border-slate-200 dark:border-slate-800 py-10 px-6 relative ${!a3?"opacity-70":""}`,children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsxs)("h3",{className:"font-semibold text-lg text-slate-900 dark:text-white flex items-center gap-2",children:[(0,b.jsx)(o,{className:"w-5 h-5 text-purple-500"})," Custom Policies"]}),a3&&(0,b.jsxs)("button",{onClick:()=>{aG(""),aI(""),aK("spam"),aE(null),aC(!0)},className:"flex items-center gap-1.5 text-xs font-bold bg-brand-50 dark:bg-brand-900/20 text-brand-600 dark:text-brand-400 px-3 py-2 rounded-lg hover:bg-brand-100 dark:hover:bg-brand-900/40 transition-all border border-brand-200 dark:border-brand-800/50 uppercase tracking-tight",children:[(0,b.jsx)(w,{className:"w-3.5 h-3.5"})," Add New"]})]}),a3?(0,b.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-5",children:0===Object.keys(aw.customPolicyDescriptions).length?(0,b.jsx)("div",{className:"col-span-full text-center py-8 border border-dashed border-slate-200 dark:border-slate-800 rounded-xl",children:(0,b.jsx)("p",{className:"text-[10px] text-slate-500 uppercase font-bold tracking-tight",children:"No custom policies"})}):Object.entries(aw.customPolicyDescriptions).map(([a,c])=>{let d=aw.selectedCustomPolicies.includes(a);return(0,b.jsxs)("div",{className:`group flex items-start gap-2.5 p-3 rounded-xl border transition-all duration-200 ${d?"bg-purple-50/50 dark:bg-purple-900/10 border-purple-200 dark:border-purple-800/50":"bg-white dark:bg-slate-950/50 border-slate-200 dark:border-slate-800"}`,children:[(0,b.jsx)("button",{onClick:()=>a_(a),className:`w-4 h-4 rounded flex-shrink-0 border transition-all mt-0.5 ${d?"bg-purple-600 border-purple-600":"bg-slate-100 dark:bg-slate-800 border-slate-300 dark:border-slate-700"}`,children:d&&(0,b.jsx)(q.Check,{className:"w-2.5 h-2.5 text-white mx-auto",strokeWidth:4})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0 pointer-events-none sm:pointer-events-auto",onClick:()=>a_(a),style:{cursor:"pointer"},children:[(0,b.jsx)("h4",{className:`text-xs font-bold truncate ${d?"text-purple-950 dark:text-purple-100":"text-slate-900 dark:text-white"}`,children:a}),(0,b.jsx)("p",{className:"text-[10px] text-slate-500 dark:text-slate-400 mt-0.5 line-clamp-1",children:c})]}),(0,b.jsxs)("div",{className:"flex items-center gap-0.5 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,b.jsx)("button",{onClick:b=>{b.stopPropagation(),aE(a),aG(a);let d=c.match(/^Treat comments with (.*) as (.*)$/);d?(aI(d[1]),aK(d[2])):(aI(c),aK("spam")),aC(!0)},className:"p-1 text-slate-400 hover:text-brand-600 transition-colors",children:(0,b.jsx)(z,{className:"w-3 h-3"})}),(0,b.jsx)("button",{onClick:b=>{b.stopPropagation(),a$(a)},className:"p-1 text-slate-400 hover:text-red-500 transition-colors",children:(0,b.jsx)(h,{className:"w-3 h-3"})})]})]},a)})}):(0,b.jsxs)("div",{className:"bg-slate-50 dark:bg-slate-950/50 border border-dashed border-slate-200 dark:border-slate-800 rounded-xl p-8 flex flex-col items-center text-center justify-center",children:[(0,b.jsx)(p.Lock,{className:"w-8 h-8 text-slate-300 dark:text-slate-700 mb-3"}),(0,b.jsx)("p",{className:"text-sm font-medium text-slate-900 dark:text-white mb-1",children:"Pro Feature"}),(0,b.jsx)("button",{onClick:()=>I("plan"),className:"text-xs font-bold text-brand-600 dark:text-brand-400 underline underline-offset-4",children:"View Plans"})]})]}),(0,b.jsxs)("div",{className:"bg-white dark:bg-slate-900 rounded-xl shadow-sm border border-slate-200 dark:border-slate-800 p-6 flex flex-col sm:flex-row items-center justify-between gap-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"p-2 bg-brand-50 dark:bg-brand-900/20 rounded-lg text-brand-600 dark:text-brand-400",children:(0,b.jsx)(y.Target,{className:"w-5 h-5"})}),(0,b.jsxs)("div",{className:"flex flex-col",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("label",{className:"text-sm font-bold text-slate-900 dark:text-white",children:"AI Sensitivity"}),(0,b.jsxs)("div",{className:"group relative",children:[(0,b.jsx)(B.HelpCircle,{className:"w-3.5 h-3.5 text-slate-400 hover:text-brand-500 transition-colors cursor-help"}),(0,b.jsxs)("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 w-64 p-3 bg-slate-800 text-white text-xs rounded-xl shadow-xl opacity-0 scale-95 group-hover:opacity-100 group-hover:scale-100 transition-all pointer-events-none z-50 leading-relaxed font-medium",children:["• ",(0,b.jsx)("span",{className:"text-brand-300 font-bold",children:"Aggressive:"})," Flags more comments (potential false positives).",(0,b.jsx)("br",{}),"• ",(0,b.jsx)("span",{className:"text-brand-300 font-bold",children:"Strict:"})," Only flags very obvious violations."]})]})]}),(0,b.jsx)("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-0.5",children:"Configure how confident AI must be to flag a comment"})]}),(0,b.jsx)("div",{className:"h-8 w-px bg-slate-200 dark:bg-slate-800 mx-2 hidden sm:block"})]}),(0,b.jsx)("div",{className:"flex bg-slate-100 dark:bg-slate-800 rounded-lg p-1 gap-1",children:[{label:"Aggressive",value:75},{label:"Balanced",value:90},{label:"Strict",value:99}].map(a=>{let c=75===a.value&&aw.confidenceThreshold<90||90===a.value&&aw.confidenceThreshold>=90&&aw.confidenceThreshold<99||99===a.value&&aw.confidenceThreshold>=99;return(0,b.jsx)("button",{onClick:()=>ax({...aw,confidenceThreshold:a.value}),className:`
                                                    px-4 py-1.5 rounded-md text-xs font-bold transition-all
                                                    ${c?"bg-white dark:bg-slate-700 text-brand-600 dark:text-brand-400 shadow-sm":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-300"}
                                                `,children:a.label},a.value)})})]}),aA&&(0,b.jsx)("div",{className:"fixed bottom-8 right-8 z-50 animate-in slide-in-from-bottom-5 fade-in duration-300",children:(0,b.jsxs)("div",{className:"bg-slate-900 text-white p-2 pl-5 pr-2 rounded-2xl shadow-2xl shadow-slate-900/40 flex items-center gap-6 border border-slate-700/50",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-2 h-2 rounded-full bg-amber-400 animate-pulse"}),(0,b.jsx)("span",{className:"text-sm font-medium",children:"Unsaved changes"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("button",{onClick:()=>{ay&&(ax(ay),R("Changes reverted","success"))},className:"px-4 py-2 rounded-xl text-xs font-bold hover:bg-white/10 text-slate-300 hover:text-white transition-colors",children:"Discard"}),(0,b.jsxs)("button",{onClick:aY,disabled:N,className:"px-5 py-2 rounded-xl bg-brand-600 hover:bg-brand-500 text-white text-xs font-bold shadow-lg shadow-brand-500/20 transition-all flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[N&&(0,b.jsx)(A.Loader2,{className:"w-3 h-3 animate-spin"}),"Save Changes"]})]})]})})]}),(0,b.jsx)("div",{className:"my-10 border-t border-slate-200 dark:border-slate-800"}),(0,b.jsxs)("div",{className:"bg-red-50/30 dark:bg-red-900/5 rounded-xl border border-red-100 dark:border-red-900/30 p-6",children:[(0,b.jsxs)("h3",{className:"font-bold text-red-600 dark:text-red-400 flex items-center gap-2 mb-2",children:[(0,b.jsx)(h,{className:"w-5 h-5"})," Danger Zone"]}),(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:"Remove Instagram Account"}),(0,b.jsxs)("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:["Permanently disconnect ",(0,b.jsx)("span",{className:"font-bold",children:U?.handle})]})]}),(0,b.jsx)("button",{onClick:()=>{aO(U),aM(!0)},className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white text-xs font-bold rounded-lg transition-all shadow-lg shadow-red-500/10",children:"Remove Account"})]})]}),aB&&(0,b.jsx)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-950/40 backdrop-blur-sm",children:(0,b.jsx)("div",{className:"bg-white dark:bg-slate-900 w-full max-w-md rounded-2xl shadow-2xl border border-slate-200 dark:border-slate-800 overflow-hidden animate-in fade-in zoom-in duration-200",children:(0,b.jsxs)("div",{className:"p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:aD?"Edit Policy":"Create Custom Policy"}),(0,b.jsx)("button",{onClick:()=>aC(!1),className:"p-1 text-slate-400 hover:text-slate-600 dark:hover:text-slate-200",children:(0,b.jsx)(x,{className:"w-5 h-5 rotate-45"})})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-1.5",children:"Policy Name"}),(0,b.jsx)("input",{type:"text",value:aF,onChange:a=>aG(a.target.value),disabled:!!aD,placeholder:"e.g. Scams, Competitors",className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-800 bg-slate-50 dark:bg-slate-950 text-slate-900 dark:text-white focus:ring-2 focus:ring-brand-500 focus:border-transparent outline-none disabled:opacity-50"})]}),(0,b.jsx)("div",{className:"bg-slate-50 dark:bg-slate-950/50 p-4 rounded-xl border border-slate-200 dark:border-slate-800",children:(0,b.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,b.jsx)("div",{className:"flex items-center gap-2 text-sm font-medium text-slate-600 dark:text-slate-400",children:(0,b.jsx)("span",{children:"Treat comments with"})}),(0,b.jsx)("textarea",{value:aH,onChange:a=>aI(a.target.value),className:"w-full h-20 px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 text-slate-900 dark:text-white focus:ring-2 focus:ring-brand-500 outline-none resize-none text-sm"}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm font-medium text-slate-600 dark:text-slate-400",children:[(0,b.jsx)("span",{children:"as"}),(0,b.jsxs)("select",{value:aJ,onChange:a=>aK(a.target.value),className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-lg px-2 py-1.5 text-slate-900 dark:text-white focus:ring-2 focus:ring-brand-500 outline-none text-sm font-bold min-w-[120px]",children:[(0,b.jsx)("option",{value:"spam",children:"Spam"}),(0,b.jsx)("option",{value:"hateSpeech",children:"Hate Speech"}),(0,b.jsx)("option",{value:"harassment",children:"Harassment"}),(0,b.jsx)("option",{value:"violence",children:"Violence"}),(0,b.jsx)("option",{value:"sexualContent",children:"Sexual Content"}),(0,b.jsx)("option",{value:"selfHarm",children:"Self Harm"})]})]})]})})]}),(0,b.jsxs)("div",{className:"mt-8 flex gap-3",children:[(0,b.jsx)("button",{onClick:()=>aC(!1),className:"flex-1 px-4 py-3 rounded-xl font-bold text-sm text-slate-500 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800 transition-all",children:"Cancel"}),(0,b.jsx)("button",{onClick:aZ,disabled:!aF||!aH||N,className:"flex-1 px-4 py-3 rounded-xl bg-brand-600 hover:bg-brand-700 text-white font-bold text-sm shadow-brand-500/20 shadow-lg disabled:opacity-50",children:N?"Saving...":"Save Policy"})]})]})})})]}),"plan"===H&&(0,b.jsxs)("div",{className:"animate-fade-in max-w-5xl mx-auto",children:[ak&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center backdrop-blur-sm",children:(0,b.jsxs)("div",{className:"bg-white dark:bg-slate-900 p-8 rounded-2xl shadow-2xl max-w-sm w-full text-center border border-slate-200 dark:border-slate-800",children:[(0,b.jsx)("div",{className:"w-16 h-16 bg-brand-100 dark:bg-brand-900/30 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,b.jsx)(r,{className:"w-8 h-8 text-brand-600 animate-spin"})}),(0,b.jsx)("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:"Connecting to Razorpay"}),(0,b.jsxs)("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:["Securely loading checkout...",(0,b.jsx)("br",{}),"Please wait."]})]})}),(0,b.jsx)("div",{className:"flex items-center justify-between mb-8",children:(0,b.jsx)("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Plan & Billing"})}),(0,b.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12",children:aw.plan?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"bg-white dark:bg-slate-900 rounded-xl shadow-sm border border-slate-200 dark:border-slate-800 p-6 overflow-hidden relative",children:[(0,b.jsx)("div",{className:"absolute top-0 right-0 p-4",children:(0,b.jsx)("div",{className:"bg-brand-50 dark:bg-brand-900/40 text-brand-600 dark:text-brand-400 text-xs font-bold px-2 py-1 rounded uppercase tracking-wider",children:"Active"})}),(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-1",children:"Current Plan"}),(0,b.jsx)("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-4",children:F[aw.plan]?.label}),(0,b.jsxs)("p",{className:"text-sm text-slate-500",children:["Renews on ",(0,b.jsx)("span",{className:"font-medium text-slate-700 dark:text-slate-300",children:"Jan 12, 2026"})]})]}),(0,b.jsx)("div",{className:"text-right",children:(0,b.jsxs)("p",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:["INR"===am?"₹":"$",F[aw.plan]?.price,(0,b.jsx)("span",{className:"text-sm font-normal text-slate-500",children:"/mo"})]})})]})]}),(0,b.jsxs)("div",{className:"bg-white dark:bg-slate-900 rounded-xl shadow-sm border border-slate-200 dark:border-slate-800 p-6",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-6",children:"Payment Method"}),(0,b.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,b.jsx)("div",{className:"w-12 h-8 bg-slate-100 dark:bg-slate-800 rounded flex items-center justify-center border border-slate-200 dark:border-slate-700",children:(0,b.jsx)("div",{className:"font-bold text-blue-600 italic text-xs",children:"VISA"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-slate-900 dark:text-white",children:"Visa ending in 4242"}),(0,b.jsx)("p",{className:"text-xs text-slate-500",children:"Expires 12/2028"})]})]}),(0,b.jsx)("button",{className:"w-full py-2 text-sm text-slate-600 dark:text-slate-300 border border-slate-300 dark:border-slate-700 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors",children:"Update Payment Method"})]})]}):(0,b.jsxs)("div",{className:"lg:col-span-2 bg-gradient-to-br from-brand-600 to-indigo-700 rounded-2xl shadow-xl p-8 text-white relative overflow-hidden",children:[(0,b.jsxs)("div",{className:"relative z-10",children:[(0,b.jsx)("h2",{className:"text-3xl font-bold mb-4",children:"Welcome to ShieldGram!"}),(0,b.jsx)("p",{className:"text-lg opacity-90 max-w-2xl mb-6",children:"To start protecting your Instagram account with AI-powered moderation, please select a protection plan below. Our plans include a 30-day money-back guarantee."}),(0,b.jsxs)("div",{className:"flex items-center gap-4 text-sm font-medium",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1 bg-white/10 px-3 py-1.5 rounded-full",children:[(0,b.jsx)(j.Shield,{className:"w-4 h-4"})," 24/7 Protection"]}),(0,b.jsxs)("div",{className:"flex items-center gap-1 bg-white/10 px-3 py-1.5 rounded-full",children:[(0,b.jsx)(u.Zap,{className:"w-4 h-4"})," Real-time Blocking"]})]})]}),(0,b.jsx)(j.Shield,{className:"absolute -bottom-10 -right-10 w-64 h-64 opacity-10 rotate-12"})]})}),(0,b.jsx)("h2",{className:"text-xl font-bold text-slate-900 dark:text-white mb-6",children:"Available Plans"}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:Object.keys(F).map(a=>{let c=F[a],d=aw.plan===a,e="--",f=ao.find(a=>a.name.toLowerCase().includes(c.label.toLowerCase())&&a.currency===am);f&&(e=f.amount/100);let g=ao.find(a=>a.name.toLowerCase().includes(F[aw.plan]?.label?.toLowerCase()||"")&&a.currency===am),h=g?.amount||0,j="number"==typeof e&&100*e>h;return(0,b.jsxs)("div",{className:`relative flex flex-col p-6 rounded-xl border transition-all ${d?"bg-brand-50/50 dark:bg-brand-900/10 border-brand-200 dark:border-brand-800 ring-1 ring-brand-500 dark:ring-brand-400":"bg-white dark:bg-slate-900 border-slate-200 dark:border-slate-800 hover:border-brand-300 dark:hover:border-brand-700 hover:shadow-md"}`,children:[d&&(0,b.jsx)("div",{className:"absolute top-0 right-0 -mt-3 -mr-3",children:(0,b.jsx)("span",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-brand-600 text-white shadow-sm",children:(0,b.jsx)(q.Check,{className:"w-4 h-4"})})}),(0,b.jsx)("h3",{className:"text-lg font-bold text-slate-900 dark:text-white capitalize",children:c.label}),(0,b.jsxs)("div",{className:"mt-2 mb-6",children:[(0,b.jsxs)("span",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:["INR"===am?"₹":"$",e]}),(0,b.jsx)("span",{className:"text-slate-500 text-sm",children:"/mo"})]}),(0,b.jsx)("ul",{className:"space-y-3 mb-8 flex-1",children:c.features.map((a,c)=>(0,b.jsxs)("li",{className:"flex items-start gap-2 text-sm text-slate-600 dark:text-slate-400",children:[(0,b.jsx)(i.CheckCircle,{className:"w-4 h-4 text-green-500 shrink-0 mt-0.5"}),a]},c))}),(0,b.jsx)("button",{onClick:()=>a2(a),disabled:d||ak,className:`w-full py-2.5 px-4 rounded-lg font-medium transition-colors text-sm ${d?"bg-brand-100 text-brand-700 dark:bg-brand-900/30 dark:text-brand-300 cursor-default":j?"bg-slate-900 dark:bg-white text-white dark:text-slate-900 hover:bg-slate-800 dark:hover:bg-slate-100 shadow-sm":"bg-white dark:bg-slate-900 text-slate-600 dark:text-slate-400 border border-slate-300 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:d?"Current Plan":j?"Upgrade":"Downgrade"})]},a)})}),(0,b.jsxs)("div",{className:"mt-12 bg-white dark:bg-slate-900 rounded-xl shadow-sm border border-slate-200 dark:border-slate-800 overflow-hidden",children:[(0,b.jsx)("div",{className:"p-6 border-b border-slate-200 dark:border-slate-800",children:(0,b.jsx)("h2",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Billing History"})}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-left text-sm",children:[(0,b.jsx)("thead",{className:"bg-slate-50 dark:bg-slate-800/50 text-slate-500 dark:text-slate-400",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-6 py-4 font-medium",children:"Date"}),(0,b.jsx)("th",{className:"px-6 py-4 font-medium",children:"Amount"}),(0,b.jsx)("th",{className:"px-6 py-4 font-medium",children:"Status"}),(0,b.jsx)("th",{className:"px-6 py-4 font-medium text-right",children:"Invoice"})]})}),(0,b.jsxs)("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-800",children:[(0,b.jsxs)("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[(0,b.jsx)("td",{className:"px-6 py-4 text-slate-900 dark:text-slate-300",children:"Oct 12, 2024"}),(0,b.jsx)("td",{className:"px-6 py-4 text-slate-600 dark:text-slate-400",children:"$5.00"}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsx)("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400 border border-green-200 dark:border-green-800",children:"Paid"})}),(0,b.jsx)("td",{className:"px-6 py-4 text-right",children:(0,b.jsxs)("button",{className:"text-brand-600 dark:text-brand-400 hover:underline flex items-center gap-1 justify-end ml-auto",children:[(0,b.jsx)(t,{className:"w-4 h-4"})," PDF"]})})]}),(0,b.jsxs)("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[(0,b.jsx)("td",{className:"px-6 py-4 text-slate-900 dark:text-slate-300",children:"Sep 12, 2024"}),(0,b.jsx)("td",{className:"px-6 py-4 text-slate-600 dark:text-slate-400",children:"$5.00"}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsx)("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400 border border-green-200 dark:border-green-800",children:"Paid"})}),(0,b.jsx)("td",{className:"px-6 py-4 text-right",children:(0,b.jsxs)("button",{className:"text-brand-600 dark:text-brand-400 hover:underline flex items-center gap-1 justify-end ml-auto",children:[(0,b.jsx)(t,{className:"w-4 h-4"})," PDF"]})})]})]})]})})]})]}),"security"===H&&(0,b.jsxs)("div",{className:"animate-fade-in max-w-2xl mx-auto",children:[(0,b.jsx)("div",{className:"flex items-center justify-between mb-8",children:(0,b.jsx)("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Security Settings"})}),!$&&(0,b.jsxs)("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-800 p-8",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4 mb-8",children:[(0,b.jsx)("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${Y?"bg-green-50 dark:bg-green-900/20 text-green-600":"bg-slate-50 dark:bg-slate-800 text-slate-400"}`,children:(0,b.jsx)(e.ShieldCheck,{className:"w-6 h-6"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:"Multi-Factor Authentication (MFA)"}),(0,b.jsx)("p",{className:"text-slate-500 dark:text-slate-400 text-sm mt-1",children:"Secure your account with an extra layer of protection using your preferred authenticator app."})]})]}),Y?(0,b.jsxs)("div",{className:"flex flex-col border border-slate-100 dark:border-slate-800 rounded-xl p-6 bg-slate-50/50 dark:bg-slate-950/20",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),(0,b.jsx)("span",{className:"text-sm font-bold text-green-600 dark:text-green-400 uppercase tracking-wider",children:"Active Protection"})]}),(0,b.jsx)("button",{onClick:aX,className:"text-xs text-red-600 dark:text-red-400 font-bold hover:underline",children:"Disable MFA"})]}),(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)(i.CheckCircle,{className:"w-5 h-5 text-green-500 shrink-0 mt-0.5"}),(0,b.jsx)("div",{className:"text-sm text-slate-600 dark:text-slate-400 leading-relaxed",children:"Your account is secured with 2FA. Every time you log in, you will be prompted for a 6-digit code from your authenticator app."})]})]}):(0,b.jsxs)("div",{className:"flex flex-col items-center py-6 text-center",children:[(0,b.jsx)(p.Lock,{className:"w-12 h-12 text-slate-200 dark:text-slate-800 mb-4"}),(0,b.jsx)("h4",{className:"font-semibold text-slate-900 dark:text-white mb-2",children:"Authenticator App is Not Active"}),(0,b.jsx)("p",{className:"text-slate-500 dark:text-slate-400 text-sm max-w-md mb-8",children:"We recommend enabling MFA to protect your account from unauthorized access. You'll need an app like Google Authenticator or Authy."}),(0,b.jsxs)("button",{onClick:aV,disabled:ae,className:"px-6 py-2.5 bg-brand-600 hover:bg-brand-700 text-white font-semibold rounded-xl shadow-lg shadow-brand-500/20 transition-all flex items-center gap-2 disabled:opacity-50",children:[ae?(0,b.jsx)(A.Loader2,{className:"w-4 h-4 animate-spin text-white"}):(0,b.jsx)(e.ShieldCheck,{className:"w-4 h-4"}),"Enable MFA"]})]})]}),$&&aa&&(0,b.jsxs)("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-xl border-2 border-brand-500 dark:border-brand-500/50 p-8 animate-in slide-in-from-top-4 duration-300",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-6",children:"Configure Authenticator App"}),(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsx)("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-400 flex items-center justify-center font-bold text-sm border border-slate-200 dark:border-slate-700",children:"1"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-bold text-slate-900 dark:text-white mb-2",children:"Scan or Enter Secret"}),(0,b.jsx)("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4",children:"Open your authenticator app (Google Authenticator, Authy, etc.) and scan the QR code below, or enter the secret manually."}),(0,b.jsxs)("div",{className:"bg-slate-50 dark:bg-slate-950 p-4 rounded-xl border border-slate-100 dark:border-slate-800 inline-block",children:[(0,b.jsx)("div",{className:"w-48 h-48 bg-white dark:bg-slate-900 rounded-lg flex items-center justify-center border border-slate-200 dark:border-slate-700 mb-4",children:(0,b.jsx)("img",{src:`https://quickchart.io/qr?text=${encodeURIComponent(`otpauth://totp/ShieldGram?secret=${aa}&issuer=ShieldGram`)}&size=200`,alt:"QR Code",className:"w-full h-full p-2"})}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("p",{className:"text-[10px] text-slate-400 uppercase font-black tracking-widest mb-1",children:"Manual Entry Code"}),(0,b.jsx)("code",{className:"text-sm font-mono text-brand-600 dark:text-brand-400 break-all bg-brand-50 dark:bg-brand-900/20 px-2 py-1 rounded select-all font-bold",children:aa})]})]})]})]}),(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsx)("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-400 flex items-center justify-center font-bold text-sm border border-slate-200 dark:border-slate-700",children:"2"}),(0,b.jsxs)("div",{className:"flex-grow",children:[(0,b.jsx)("h4",{className:"font-bold text-slate-900 dark:text-white mb-2",children:"Verify Code"}),(0,b.jsx)("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4",children:"Enter the 6-digit code currently shown in your app to confirm setup."}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("input",{type:"text",maxLength:6,value:ac,onChange:a=>ad(a.target.value.replace(/[^0-9]/g,"")),className:"w-full sm:w-48 px-4 py-3 bg-slate-50 dark:bg-slate-800 border-2 border-slate-200 dark:border-slate-700 rounded-xl focus:border-brand-500 focus:ring-4 focus:ring-brand-500/10 outline-none transition-all text-center text-2xl font-bold tracking-[0.5em] text-slate-900 dark:text-white",placeholder:"000000"}),(0,b.jsx)("button",{onClick:aW,disabled:ag||6!==ac.length,className:"px-6 py-3 bg-brand-600 hover:bg-brand-700 text-white font-black rounded-xl shadow-lg shadow-brand-500/20 transition-all flex items-center gap-2 disabled:opacity-50 uppercase text-xs",children:ag?(0,b.jsx)(A.Loader2,{className:"w-4 h-4 animate-spin"}):"Verify & Finish"})]})]})]})]}),(0,b.jsx)("div",{className:"mt-10 pt-6 border-t border-slate-100 dark:border-slate-800 flex justify-end",children:(0,b.jsx)("button",{onClick:()=>{_(!1),ab(null),ad("")},className:"text-sm font-bold text-slate-500 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white transition-colors",children:"Cancel Setup"})})]})]})]})]})}),aL&&aN&&(0,b.jsx)("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-4 bg-slate-950/60 backdrop-blur-sm animate-in fade-in duration-200",children:(0,b.jsx)("div",{className:"bg-white dark:bg-slate-900 w-full max-w-sm rounded-2xl shadow-2xl border border-slate-200 dark:border-slate-800 overflow-hidden animate-in zoom-in-95 duration-200",children:(0,b.jsxs)("div",{className:"p-6 text-center",children:[(0,b.jsx)("div",{className:"w-16 h-16 bg-red-50 dark:bg-red-900/20 rounded-full flex items-center justify-center mx-auto mb-4 text-red-600",children:(0,b.jsx)(h,{className:"w-8 h-8"})}),(0,b.jsx)("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:"Remove Account?"}),(0,b.jsxs)("p",{className:"text-slate-500 dark:text-slate-400 text-sm mb-6",children:["Are you sure you want to remove ",(0,b.jsx)("span",{className:"font-bold text-slate-900 dark:text-white",children:aN.handle}),"? All associated moderation history and statistics will be permanently deleted."]}),(0,b.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,b.jsx)("button",{onClick:a1,disabled:N,className:"w-full py-3 bg-red-600 hover:bg-red-700 text-white font-bold rounded-xl shadow-lg shadow-red-500/20 transition-all disabled:opacity-50",children:N?"Removing...":"Yes, Remove Account"}),(0,b.jsx)("button",{onClick:()=>{aM(!1),aO(null)},disabled:N,className:"w-full py-3 text-slate-600 dark:text-slate-400 font-bold hover:bg-slate-50 dark:hover:bg-slate-800 rounded-xl transition-all",children:"Cancel"})]})]})})})]})};var H=a.i(32860);let I=(0,g.default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);a.i(38251);var J=a.i(74609),K=a.i(94770),L=a.i(16583),L=L,M=a.i(61730);let N="us-east-1_ZzzjCk0xy",O=({onLoginSuccess:a,onCancel:d})=>{let[e,f]=(0,c.useState)("signin"),[g,h]=(0,c.useState)(!1),[i,j]=(0,c.useState)(""),[k,l]=(0,c.useState)(""),[m,n]=(0,c.useState)(""),[o,p]=(0,c.useState)(null),[q,s]=(0,c.useState)(null),[t,u]=(0,c.useState)(null),v=!N||N.includes("xxx"),w=null;if(!v)try{w=new J.CognitoUserPool({UserPoolId:N,ClientId:"1b0v6afasbk0kbhp68dijl5s4c"})}catch(a){console.error("Error initializing Cognito User Pool:",a)}return(0,b.jsx)("div",{className:"min-h-screen flex flex-col items-center justify-center bg-slate-50 dark:bg-slate-950 px-4 py-12 transition-colors duration-300",children:(0,b.jsxs)("div",{className:"w-full max-w-md bg-white dark:bg-slate-900 rounded-2xl shadow-xl border border-slate-200 dark:border-slate-800 p-8",children:[(0,b.jsx)("div",{className:"flex justify-center mb-8",children:(0,b.jsx)("img",{src:"/logo.svg",alt:"ShieldGram",className:"h-16 w-auto"})}),(0,b.jsx)("h2",{className:"text-center text-2xl font-bold text-slate-900 dark:text-white mb-2",children:(()=>{switch(e){case"signin":return"Welcome back";case"signup":return"Create an account";case"verify":return"Verify email";case"totp":return"Security Check"}})()}),(0,b.jsx)("p",{className:"text-center text-slate-600 dark:text-slate-400 mb-8",children:(()=>{switch(e){case"signin":return"Sign in to access your dashboard";case"signup":return"Start your 1-month free trial";case"verify":return"Enter the code sent to your email";case"totp":return"Enter the 6-digit code from your authenticator app"}})()}),o&&(0,b.jsx)("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 text-sm rounded-lg border border-red-100 dark:border-red-800 animate-fade-in",children:o}),q&&(0,b.jsxs)("div",{className:"mb-4 p-3 bg-green-50 dark:bg-green-900/20 text-green-600 dark:text-green-400 text-sm rounded-lg border border-green-100 dark:border-green-800 flex items-center gap-2 animate-fade-in",children:[(0,b.jsx)(I,{className:"w-4 h-4"}),q]}),(0,b.jsxs)("form",{onSubmit:"signin"===e?b=>{if(b.preventDefault(),h(!0),p(null),v){console.warn("AWS Cognito Config missing or using placeholders. Using mock login for demo."),setTimeout(()=>{(0,M.setAuthTokens)({accessToken:"shieldgram-dummy-access-token",idToken:"shieldgram-dummy-id-token",refreshToken:"shieldgram-dummy-refresh-token"}),h(!1),a()},1e3);return}let c=new L.default({Username:i,Password:k}),d=new K.CognitoUser({Username:i,Pool:w});d.authenticateUser(c,{onSuccess:b=>{h(!1),(0,M.setAuthTokens)({accessToken:b.getAccessToken().getJwtToken(),idToken:b.getIdToken().getJwtToken(),refreshToken:b.getRefreshToken().getToken()}),a()},onFailure:a=>{h(!1),console.error(a),p(a.message||"Authentication failed")},totpRequired:a=>{h(!1),u(d),f("totp")},newPasswordRequired:(a,b)=>{h(!1),p("New password required (Challenge not implemented in boilerplate)")}})}:"signup"===e?a=>{if(a.preventDefault(),h(!0),p(null),v){console.warn("AWS Cognito Config missing or using placeholders. Using mock signup for demo."),setTimeout(()=>{h(!1),f("verify"),s("Mock verification code sent! (Use any code)")},1e3);return}w&&w.signUp(i,k,[],[],(a,b)=>{if(h(!1),a){console.error(a),p(a.message||JSON.stringify(a));return}f("verify"),s("Account created! Please check your email for the verification code.")})}:"verify"===e?a=>{(a.preventDefault(),h(!0),p(null),s(null),v)?setTimeout(()=>{h(!1),f("signin"),s("Account verified! Please sign in."),n("")},1e3):new K.CognitoUser({Username:i,Pool:w}).confirmRegistration(m,!0,(a,b)=>{if(h(!1),a){console.error(a),p(a.message||"Verification failed");return}f("signin"),s("Verification successful! You can now log in."),n("")})}:b=>{if(b.preventDefault(),h(!0),p(null),v)return void setTimeout(()=>{(0,M.setAuthTokens)({accessToken:"shieldgram-dummy-access-token",idToken:"shieldgram-dummy-id-token",refreshToken:"shieldgram-dummy-refresh-token"}),h(!1),a()},1e3);if(!t){p("Authentication session lost. Please try signing in again."),f("signin"),h(!1);return}t.sendMFACode(m,{onSuccess:b=>{h(!1),(0,M.setAuthTokens)({accessToken:b.getAccessToken().getJwtToken(),idToken:b.getIdToken().getJwtToken(),refreshToken:b.getRefreshToken().getToken()}),a()},onFailure:a=>{h(!1),console.error(a),p(a.message||"Verification failed")}},"SOFTWARE_TOKEN_MFA")},className:"space-y-4",children:["verify"!==e&&"totp"!==e&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Email Address"}),(0,b.jsx)("input",{type:"email",required:!0,value:i,onChange:a=>j(a.target.value),className:"w-full px-4 py-3 rounded-lg bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 focus:ring-2 focus:ring-brand-500 outline-none transition-all dark:text-white",placeholder:"name@company.com"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Password"}),(0,b.jsx)("input",{type:"password",required:!0,value:k,onChange:a=>l(a.target.value),className:"w-full px-4 py-3 rounded-lg bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 focus:ring-2 focus:ring-brand-500 outline-none transition-all dark:text-white",placeholder:"••••••••"}),"signup"===e&&(0,b.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:"Must be at least 8 characters with numbers and symbols."})]})]}),("verify"===e||"totp"===e)&&(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"verify"===e?"Email Verification Code":"Authenticator App Code"}),(0,b.jsx)("input",{type:"text",required:!0,value:m,onChange:a=>n(a.target.value),className:"w-full px-4 py-3 rounded-lg bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 focus:ring-2 focus:ring-brand-500 outline-none transition-all dark:text-white text-center text-xl tracking-widest",placeholder:"123456"}),"verify"===e&&(0,b.jsx)("div",{className:"flex justify-end mt-2",children:(0,b.jsxs)("button",{type:"button",onClick:()=>{v?s("Mock code resent!"):new K.CognitoUser({Username:i,Pool:w}).resendConfirmationCode((a,b)=>{a?p(a.message||"Failed to resend code"):s("Verification code resent successfully.")})},className:"text-sm text-brand-600 dark:text-brand-400 hover:underline flex items-center gap-1",children:[(0,b.jsx)(r,{className:"w-3 h-3"})," Resend Code"]})})]}),(0,b.jsxs)("button",{type:"submit",disabled:g,className:"w-full py-3 px-4 bg-brand-600 hover:bg-brand-700 text-white font-semibold rounded-lg shadow-md hover:shadow-lg transition-all flex items-center justify-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed mt-6",children:[g?(0,b.jsx)(A.Loader2,{className:"w-5 h-5 animate-spin"}):"signin"===e?"Sign In":"signup"===e?"Create Account":"verify"===e?"Verify Account":"Verify & Login",!g&&(0,b.jsx)(H.ArrowRight,{className:"w-4 h-4"})]}),"signup"===e&&(0,b.jsxs)("p",{className:"mt-4 text-[10px] text-center text-slate-500 leading-relaxed uppercase tracking-wider",children:["By creating an account, you agree to our"," ",(0,b.jsx)("a",{href:"#/terms",target:"_blank",className:"text-brand-600 hover:text-brand-500 font-bold underline",children:"Terms of Service"})," ","and"," ",(0,b.jsx)("a",{href:"#/privacy",target:"_blank",className:"text-brand-600 hover:text-brand-500 font-bold underline",children:"Privacy Policy"})]})]}),(0,b.jsx)("div",{className:"mt-6 text-center",children:(0,b.jsxs)("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:["signin"===e?"Don't have an account? ":"signup"===e?"Already have an account? ":"Wrong email? ",(0,b.jsx)("button",{onClick:()=>{p(null),s(null),"verify"===e||"totp"===e?f("signin"):f("signin"===e?"signup":"signin")},className:"text-brand-600 dark:text-brand-400 font-semibold hover:underline",children:"signin"===e?"Sign up":"signup"===e?"Log in":"Back"})]})}),(0,b.jsx)("div",{className:"mt-8 pt-6 border-t border-slate-100 dark:border-slate-800 text-center",children:(0,b.jsx)("button",{onClick:d,className:"text-sm text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 transition-colors",children:"Return to Home"})})]})})};function P(){let[a,d]=(0,c.useState)(!1),[e,f]=(0,c.useState)(!0),[g,h]=(0,c.useState)(!1);return((0,c.useEffect)(()=>{h(!1),document.documentElement.classList.remove("dark")},[]),(0,c.useEffect)(()=>{(async()=>{try{await (0,D.getValidToken)(),d(!0)}catch(a){d(!1)}finally{f(!1)}})()},[]),e)?(0,b.jsx)("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950 flex items-center justify-center",children:"Loading..."}):a?(0,b.jsx)("div",{className:`min-h-screen ${g?"dark":""}`,children:(0,b.jsx)(G,{onLogout:()=>{(0,M.removeAuthToken)(),d(!1),window.location.href="/"},isDarkMode:g,toggleTheme:()=>{let a=!g;h(a);let b=a?"dark":"light";a?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("theme",b),(0,M.setThemeCookie)(b)}})}):(0,b.jsx)("div",{className:`min-h-screen ${g?"dark":""}`,children:(0,b.jsx)(O,{onLoginSuccess:()=>{d(!0),window.location.reload()},onCancel:()=>window.location.href="/"})})}a.s(["default",()=>P],20731)}];

//# sourceMappingURL=app_dashboard_page_tsx_42ef5b16._.js.map